import{j as s,a as c,b as y,r as p,f as _,c as g,s as N,d as $,M as E,i as S}from"./index-8193XJ7I.js";import{s as P,a as F,b as w,u as O,c as h,d as v,g as L,e as M,f as T,h as q,C as D}from"./CamperList-DJpl98Fy.js";const R="_btn_deoui_1",V={btn:R};function A({action:t}){return s.jsx("button",{type:"button",onClick:t,className:V.btn,children:"Load more"})}const B="_form_jc15j_1",K="_backdrop_jc15j_17",z="_filters_jc15j_33",G="_label_jc15j_47",H="_bigLabel_jc15j_61",J="_input_jc15j_73",Q="_mapIcon_jc15j_119",U="_icon_jc15j_131",W="_radioLabel_jc15j_157",X="_options_jc15j_187",Y="_radioInput_jc15j_199",Z="_name_jc15j_215",ss="_separator_jc15j_229",es="_container_jc15j_241",as="_inputContainer_jc15j_253",ns="_controls_jc15j_267",e={form:B,backdrop:K,filters:z,label:G,bigLabel:H,input:J,mapIcon:Q,icon:U,radioLabel:W,options:X,radioInput:Y,name:Z,separator:ss,container:es,inputContainer:as,controls:ns},ts=["AC","automatic","kitchen","TV","shower"],cs=["panelTruck","fullyIntegrated","alcove","all"],os=({onClose:t})=>{const m=c(P),o=c(F),r=c(w),n=y(),{register:l,handleSubmit:i,reset:x}=O(),u=a=>{n(g()),n(N(a))},d=()=>{x(),n(N({})),n(g()),n(_({page:1,limit:o,filters:{}})),n($(2))};p.useEffect(()=>{Object.keys(r).length>0&&n(_({page:m,limit:o,filters:r}))},[n,m,o,r]);const j=p.useRef(null),I=a=>{j.current&&!j.current.contains(a.target)&&t()},f=a=>{a.key==="Escape"&&t()};return p.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}),[t]),s.jsx("div",{className:e.backdrop,onClick:I,children:s.jsx("div",{className:e.filters,ref:j,children:s.jsxs("form",{onSubmit:i(u),className:e.form,children:[s.jsxs("div",{className:e.inputContainer,children:[s.jsx("p",{className:e.label,children:"Location"}),s.jsx("input",{type:"text",...l("location"),placeholder:"City",className:e.input}),s.jsx("svg",{className:e.mapIcon,width:"18",height:"20","aria-label":"pin icon",children:s.jsx("use",{href:`${h}#icon-map-pin`})})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsx("p",{className:e.label,children:"Filters"}),s.jsxs("div",{className:e.container,children:[s.jsx("h2",{className:e.bigLabel,children:"Vehicle equipment"}),s.jsx("div",{className:e.separator}),s.jsx("div",{className:e.options,children:ts.map((a,b)=>s.jsxs("div",{className:e.radioOption,children:[s.jsx("input",{id:a,type:"checkbox",...l(`equipment.${a}`),className:e.radioInput}),s.jsxs("label",{htmlFor:a,className:e.radioLabel,children:[s.jsx("svg",{className:e.icon,width:"40",height:"28","aria-label":`${a} icon`,children:s.jsx("use",{href:`${h}#icon-${a}`})}),s.jsx("p",{className:e.name,children:v(L(a))})]})]},b))})]})]}),s.jsxs("div",{className:e.container,children:[s.jsx("h2",{className:e.bigLabel,children:"Vehicle Type"}),s.jsx("div",{className:e.separator}),s.jsx("div",{className:e.options,children:cs.map((a,b)=>s.jsxs("div",{className:e.radioOption,children:[s.jsx("input",{type:"radio",id:`radio-${a}`,...l("type"),value:a,className:e.radioInput}),s.jsxs("label",{htmlFor:`radio-${a}`,className:e.radioLabel,children:[s.jsx("svg",{className:e.icon,width:"40",height:"28","aria-label":`${a} icon`,children:s.jsx("use",{href:`${h}#icon-${a}`})}),s.jsx("p",{className:e.name,children:v(L(a))})]})]},b))})]}),s.jsxs("div",{className:e.controls,children:[s.jsx("button",{type:"submit",children:"Search"}),s.jsx("div",{className:e.separator}),s.jsx("button",{onClick:d,children:"Show all campers"})]})]})})})},is=os,rs="_layout_jdni2_1",ls="_content_jdni2_13",C={layout:rs,content:ls},ds="_btn_1ugd2_1",js="_icon_1ugd2_15",k={btn:ds,icon:js};function ps({action:t}){return s.jsx("div",{children:s.jsx("button",{className:k.btn,onClick:t,children:s.jsx("svg",{className:k.icon,width:"20",height:"20","aria-label":"pin icon",children:s.jsx("use",{href:`${h}#icon-filter`})})})})}function hs(){const t=c(M),m=c(P),o=c(F),r=c(T),n=c(w),l=c(q),i=y();p.useEffect(()=>{i(_({page:1,limit:o})),i($(2))},[]);const x=()=>{i(_({page:m,limit:o,filters:n})),i(S())},[u,d]=p.useState(!1),j=()=>{d(!u)};return s.jsxs("div",{className:C.layout,children:[u&&s.jsx(is,{onClose:()=>d(!1)}),s.jsxs("div",{className:C.content,children:[s.jsx(ps,{action:j}),l?s.jsx(E,{children:s.jsx("h2",{children:"No campers found for your request"})}):s.jsx(D,{campers:t}),r&&s.jsx(A,{action:x})]})]})}export{hs as default};
